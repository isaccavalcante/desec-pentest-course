#!/bin/bash
# author: Isac Cavalcante

echo "<title> HTML Parser </title>"
if [ "$1" == "" ]; then
    echo -e "Usage:\n\t$0 isaccavalcante.com"
else
    echo "Searching hosts..."
    addresses=$(curl --silent $1 | grep href | grep http | cut -d ":"  -f 2 | cut -d '"' -f 1 | sed 's|//||' | sed s/.com.*/.com/ )
    for addr in $addresses ; do
        echo $addr
    done

    echo "Resolving hosts..."
    for addr in $addresses ; do
        host $addr
    done
fi